const html = `<tbody>
<tr  >
  <td>
    <ul class="severity-list severity-list--compact" >
      <li class="severity-list__item severity-list__item--medium" >
        <span class="severity-list__item-text">M</span>
      </li>
    </ul>
    <span class="l-push-left--sm">
      <svg width="22" height="22" viewBox="0 0 24 24" role="img">
<path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"/>
</svg>
      <a  href="/vuln/SNYK-JS-JQUERY-569619">
        <strong >Cross-site Scripting (XSS)</strong>
      </a>
    </span>
  </td>
  <td>
    <span  class="semver">&lt;1.9.0</span>
  </td>
  <td >
    Not available
  </td>
  <td  class="l-align-right t--sm">
    19 May, 2020
  </td>
</tr>
<tr  >
  <td>
    <ul class="severity-list severity-list--compact" >
      <li class="severity-list__item severity-list__item--medium" >
        <span class="severity-list__item-text">M</span>
      </li>
    </ul>
    <span class="l-push-left--sm">
      <svg width="22" height="22" viewBox="0 0 24 24" role="img">
<path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"/>
</svg>
      <a  href="/vuln/SNYK-JS-JQUERY-567880">
        <strong >Cross-site Scripting (XSS)</strong>
      </a>
    </span>
  </td>
  <td>
    <span  class="semver">&gt;&#x3D;1.2.0 &lt;3.5.0</span>
  </td>
  <td >
    Not available
  </td>
  <td  class="l-align-right t--sm">
    29 Apr, 2020
  </td>
</tr>
<tr  >
  <td>
    <ul class="severity-list severity-list--compact" >
      <li class="severity-list__item severity-list__item--medium" >
        <span class="severity-list__item-text">M</span>
      </li>
    </ul>
    <span class="l-push-left--sm">
      <svg width="22" height="22" viewBox="0 0 24 24" role="img">
<path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"/>
</svg>
      <a  href="/vuln/SNYK-JS-JQUERY-565129">
        <strong >Cross-site Scripting (XSS)</strong>
      </a>
    </span>
  </td>
  <td>
    <span  class="semver">&gt;&#x3D;1.5.1 &lt;3.5.0</span>
  </td>
  <td >
    Not available
  </td>
  <td  class="l-align-right t--sm">
    13 Apr, 2020
  </td>
</tr>
<tr  >
  <td>
    <ul class="severity-list severity-list--compact" >
      <li class="severity-list__item severity-list__item--medium" >
        <span class="severity-list__item-text">M</span>
      </li>
    </ul>
    <span class="l-push-left--sm">
      <svg width="22" height="22" viewBox="0 0 24 24" role="img">
<path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"/>
</svg>
      <a  href="/vuln/SNYK-JS-JQUERY-174006">
        <strong >Prototype Pollution</strong>
      </a>
    </span>
  </td>
  <td>
    <span  class="semver">&lt;3.4.0</span>
  </td>
  <td >
    Not available
  </td>
  <td  class="l-align-right t--sm">
    27 Mar, 2019
  </td>
</tr>
<tr  >
  <td>
    <ul class="severity-list severity-list--compact" >
      <li class="severity-list__item severity-list__item--low" >
        <span class="severity-list__item-text">L</span>
      </li>
    </ul>
    <span class="l-push-left--sm">
      <svg width="22" height="22" viewBox="0 0 24 24" role="img">
<path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"/>
</svg>
      <a  href="/vuln/npm:jquery:20160529">
        <strong >Denial of Service (DoS)</strong>
      </a>
    </span>
  </td>
  <td>
    <span  class="semver">&gt;&#x3D;3.0.0-rc1 &lt;3.0.0</span>
  </td>
  <td >
    Not available
  </td>
  <td  class="l-align-right t--sm">
    26 Dec, 2016
  </td>
</tr>
<tr  >
  <td>
    <ul class="severity-list severity-list--compact" >
      <li class="severity-list__item severity-list__item--medium" >
        <span class="severity-list__item-text">M</span>
      </li>
    </ul>
    <span class="l-push-left--sm">
      <svg width="22" height="22" viewBox="0 0 24 24" role="img">
<path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"/>
</svg>
      <a  href="/vuln/npm:jquery:20150627">
        <strong >Cross-site Scripting (XSS)</strong>
      </a>
    </span>
  </td>
  <td>
    <span  class="semver">&lt;1.12.2,&gt;&#x3D;1.12.3 &lt;2.2.0,&gt;&#x3D;2.2.3 &lt;3.0.0</span>
  </td>
  <td >
    Not available
  </td>
  <td  class="l-align-right t--sm">
    27 Nov, 2016
  </td>
</tr>
<tr  >
  <td>
    <ul class="severity-list severity-list--compact" >
      <li class="severity-list__item severity-list__item--medium" >
        <span class="severity-list__item-text">M</span>
      </li>
    </ul>
    <span class="l-push-left--sm">
      <svg width="22" height="22" viewBox="0 0 24 24" role="img">
<path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"/>
</svg>
      <a  href="/vuln/npm:jquery:20140902">
        <strong >Cross-site Scripting (XSS)</strong>
      </a>
    </span>
  </td>
  <td>
    <span  class="semver">&gt;&#x3D;1.4.2 &lt;1.6.2</span>
  </td>
  <td >
    Not available
  </td>
  <td  class="l-align-right t--sm">
    20 Oct, 2016
  </td>
</tr>
<tr  >
  <td>
    <ul class="severity-list severity-list--compact" >
      <li class="severity-list__item severity-list__item--medium" >
        <span class="severity-list__item-text">M</span>
      </li>
    </ul>
    <span class="l-push-left--sm">
      <svg width="22" height="22" viewBox="0 0 24 24" role="img">
<path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"/>
</svg>
      <a  href="/vuln/npm:jquery:20120206">
        <strong >Cross-site Scripting (XSS)</strong>
      </a>
    </span>
  </td>
  <td>
    <span  class="semver">&lt;1.9.1</span>
  </td>
  <td >
    Not available
  </td>
  <td  class="l-align-right t--sm">
    20 Oct, 2016
  </td>
</tr>
<tr  >
  <td>
    <ul class="severity-list severity-list--compact" >
      <li class="severity-list__item severity-list__item--medium" >
        <span class="severity-list__item-text">M</span>
      </li>
    </ul>
    <span class="l-push-left--sm">
      <svg width="22" height="22" viewBox="0 0 24 24" role="img">
<path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"/>
</svg>
      <a  href="/vuln/npm:jquery:20110606">
        <strong >Cross-site Scripting (XSS)</strong>
      </a>
    </span>
  </td>
  <td>
    <span  class="semver">&lt;1.6.3</span>
  </td>
  <td >
    Not available
  </td>
  <td  class="l-align-right t--sm">
    20 Oct, 2016
  </td>
</tr>
</tbody>`;

tableToJSON(html);

function tableToJSON(table) {
    const headers = Array.from(table.querySelectorAll('thead tr th')).map(el => el.textContent.trim());
    const result = [];
    const rows = Array.from(table.querySelectorAll('tbody tr'));
    rows.forEach(row => {
      const cells = Array.from(row.querySelectorAll('td')).map(el => el.textContent.trim());
      result.push(headers.reduce((rowRes, header, headerIndex) => {
        return {
          ...rowRes,
          [header]: cells[headerIndex]
        };
      }, {}));
    });
    return result;
}